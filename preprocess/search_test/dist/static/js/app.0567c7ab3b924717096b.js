webpackJsonp([1],{"+skl":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]},a=n("VU/8")({name:"app"},s,!1,null,null,null).exports,o=n("/ocq"),i=n("7t+N"),c=n.n(i),l={name:"Home",data:function(){return{query_string:"",hits:[],total:0,current:1,searches:[]}},methods:{onPageChange:function(t){console.log(t),this.current=t,this.searchAjax()},getTitle:function(t,e){return void 0!==t&&1===t.length&&(e=t[0]),e="<span>"+e+"</span>"},getSnippet:function(t,e){if(void 0!==t){var n="";return t.forEach(function(t){n+=t+"<br/><br/>"}),n.trim("<br/>"),n}return e.length>300?e.substring(0,200)+".....":e},getContent:function(t){return String.prototype.replaceAll=function(t,e){return this.replace(new RegExp(t,"gm"),e)},t},searchAjax:function(){this.hits=[];var t=this;this.$Spin.show(),c.a.ajax({url:"/api/search",data:{page:this.current,query:this.query_string},type:"GET",dataType:"json",success:function(e){t.$Spin.hide(),t.hits=e.hits.hits,console.log(t.hits),t.total=e.hits.total,console.log(t.total)}})}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Menu",{attrs:{mode:"horizontal",theme:"primary"}},[n("MenuItem",[n("Icon",{attrs:{type:"navicon"}}),t._v("\n      DeepSearch Web Demo\n    ")],1)],1),t._v(" "),n("br"),t._v(" "),n("Row",[n("i-col",{attrs:{span:"13",push:"4"}},[n("Input",{attrs:{placeholder:"Search Something..."},model:{value:t.query_string,callback:function(e){t.query_string=e},expression:"query_string"}})],1),t._v(" "),n("i-col",{attrs:{span:"4",push:"4"}},[t._v("Â \n      "),n("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.searchAjax}},[t._v("Search")])],1)],1),t._v(" "),n("br"),t._v(" "),t._l(t.hits,function(e){return n("Row",[n("i-col",{attrs:{span:"13",push:"4"}},[n("Card",[n("p",{attrs:{slot:"title"},domProps:{innerHTML:t._s(t.getTitle(e.highlight.title,e._source.title))},slot:"title"}),t._v(" "),n("Poptip",{attrs:{trigger:"hover",title:e._source._id,width:"400",placement:"right"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticStyle:{width:"350px",height:"auto","max-height":"300px"}},[n("span",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:t._s(e._source.abstr)}})])]),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.getSnippet(e.highlight.abstr,e._source.abstr))}})])],1),t._v(" "),n("br")],1),t._v(" "),n("i-col",{attrs:{span:"4",push:"5"}})],1)}),t._v(" "),n("br"),t._v(" "),n("Row",[n("i-col",{attrs:{span:"13",push:"4"}},[n("Page",{attrs:{push:"2",current:t.current,total:t.total,"show-total":"","show-elevator":""},on:{"on-change":t.onPageChange}})],1)],1),t._v(" "),n("br")],2)},staticRenderFns:[]},p=n("VU/8")(l,u,!1,function(t){n("WGkI")},null,null).exports;r.default.use(o.a);var h=new o.a({routes:[{path:"/",name:"Search",component:p}]}),g=n("BTaQ"),_=n.n(g);n("+skl");r.default.use(_.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:h,template:"<App/>",components:{App:a}})},WGkI:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0567c7ab3b924717096b.js.map